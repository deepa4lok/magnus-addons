<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=emulateIE7" />
    <title>Coverage for /tmp/parts/odoo/addons/account/models/res_config.py: 50%</title>
    <link rel="icon" sizes="32x32" href="favicon_32.png">
    <link rel="stylesheet" href="style.css" type="text/css">
    <script type="text/javascript" src="jquery.min.js"></script>
    <script type="text/javascript" src="jquery.hotkeys.js"></script>
    <script type="text/javascript" src="jquery.isonscreen.js"></script>
    <script type="text/javascript" src="coverage_html.js"></script>
    <script type="text/javascript">
        jQuery(document).ready(coverage.pyfile_ready);
    </script>
</head>
<body class="pyfile">
<div id="header">
    <div class="content">
        <h1>Coverage for <b>/tmp/parts/odoo/addons/account/models/res_config.py</b> :
            <span class="pc_cov">50%</span>
        </h1>
        <img id="keyboard_icon" src="keybd_closed.png" alt="Show keyboard shortcuts" />
        <h2 class="stats">
            150 statements &nbsp;
            <button type="button" class="run shortkey_r button_toggle_run" title="Toggle lines run">75 run</button>
            <button type="button" class="mis show_mis shortkey_m button_toggle_mis" title="Toggle lines missing">75 missing</button>
            <button type="button" class="exc show_exc shortkey_x button_toggle_exc" title="Toggle lines excluded">0 excluded</button>
        </h2>
    </div>
</div>
<div class="help_panel">
    <img id="panel_icon" src="keybd_open.png" alt="Hide keyboard shortcuts" />
    <p class="legend">Hot-keys on this page</p>
    <div>
    <p class="keyhelp">
        <span class="key">r</span>
        <span class="key">m</span>
        <span class="key">x</span>
        <span class="key">p</span> &nbsp; toggle line displays
    </p>
    <p class="keyhelp">
        <span class="key">j</span>
        <span class="key">k</span> &nbsp; next/prev highlighted chunk
    </p>
    <p class="keyhelp">
        <span class="key">0</span> &nbsp; (zero) top of page
    </p>
    <p class="keyhelp">
        <span class="key">1</span> &nbsp; (one) first highlighted chunk
    </p>
    </div>
</div>
<div id="source">
    <p id="t1" class="pln"><span class="n"><a href="#t1">1</a></span><span class="t"><span class="com"># -*- coding: utf-8 -*-</span>&nbsp;</span><span class="r"></span></p>
    <p id="t2" class="pln"><span class="n"><a href="#t2">2</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t3" class="run"><span class="n"><a href="#t3">3</a></span><span class="t"><span class="key">import</span> <span class="nam">time</span>&nbsp;</span><span class="r"></span></p>
    <p id="t4" class="run"><span class="n"><a href="#t4">4</a></span><span class="t"><span class="key">import</span> <span class="nam">datetime</span>&nbsp;</span><span class="r"></span></p>
    <p id="t5" class="run"><span class="n"><a href="#t5">5</a></span><span class="t"><span class="key">from</span> <span class="nam">dateutil</span><span class="op">.</span><span class="nam">relativedelta</span> <span class="key">import</span> <span class="nam">relativedelta</span>&nbsp;</span><span class="r"></span></p>
    <p id="t6" class="pln"><span class="n"><a href="#t6">6</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t7" class="run"><span class="n"><a href="#t7">7</a></span><span class="t"><span class="key">import</span> <span class="nam">odoo</span>&nbsp;</span><span class="r"></span></p>
    <p id="t8" class="run"><span class="n"><a href="#t8">8</a></span><span class="t"><span class="key">from</span> <span class="nam">odoo</span> <span class="key">import</span> <span class="nam">SUPERUSER_ID</span>&nbsp;</span><span class="r"></span></p>
    <p id="t9" class="run"><span class="n"><a href="#t9">9</a></span><span class="t"><span class="key">from</span> <span class="nam">odoo</span><span class="op">.</span><span class="nam">tools</span> <span class="key">import</span> <span class="nam">DEFAULT_SERVER_DATE_FORMAT</span> <span class="key">as</span> <span class="nam">DF</span>&nbsp;</span><span class="r"></span></p>
    <p id="t10" class="run"><span class="n"><a href="#t10">10</a></span><span class="t"><span class="key">from</span> <span class="nam">odoo</span> <span class="key">import</span> <span class="nam">api</span><span class="op">,</span> <span class="nam">fields</span><span class="op">,</span> <span class="nam">models</span><span class="op">,</span> <span class="nam">_</span>&nbsp;</span><span class="r"></span></p>
    <p id="t11" class="run"><span class="n"><a href="#t11">11</a></span><span class="t"><span class="key">from</span> <span class="nam">odoo</span><span class="op">.</span><span class="nam">exceptions</span> <span class="key">import</span> <span class="nam">UserError</span>&nbsp;</span><span class="r"></span></p>
    <p id="t12" class="pln"><span class="n"><a href="#t12">12</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t13" class="pln"><span class="n"><a href="#t13">13</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t14" class="run"><span class="n"><a href="#t14">14</a></span><span class="t"><span class="key">class</span> <span class="nam">AccountConfigSettings</span><span class="op">(</span><span class="nam">models</span><span class="op">.</span><span class="nam">TransientModel</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t15" class="run"><span class="n"><a href="#t15">15</a></span><span class="t">    <span class="nam">_name</span> <span class="op">=</span> <span class="str">'account.config.settings'</span>&nbsp;</span><span class="r"></span></p>
    <p id="t16" class="run"><span class="n"><a href="#t16">16</a></span><span class="t">    <span class="nam">_inherit</span> <span class="op">=</span> <span class="str">'res.config.settings'</span>&nbsp;</span><span class="r"></span></p>
    <p id="t17" class="pln"><span class="n"><a href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t18" class="run"><span class="n"><a href="#t18">18</a></span><span class="t">    <span class="key">def</span> <span class="nam">_default_fiscalyear_last_day</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t19" class="mis show_mis"><span class="n"><a href="#t19">19</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">env</span><span class="op">.</span><span class="nam">user</span><span class="op">.</span><span class="nam">company_id</span><span class="op">.</span><span class="nam">fiscalyear_last_day</span> <span class="key">or</span> <span class="num">31</span>&nbsp;</span><span class="r"></span></p>
    <p id="t20" class="pln"><span class="n"><a href="#t20">20</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t21" class="run"><span class="n"><a href="#t21">21</a></span><span class="t">    <span class="key">def</span> <span class="nam">_default_fiscalyear_last_month</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t22" class="mis show_mis"><span class="n"><a href="#t22">22</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">env</span><span class="op">.</span><span class="nam">user</span><span class="op">.</span><span class="nam">company_id</span><span class="op">.</span><span class="nam">fiscalyear_last_month</span> <span class="key">or</span> <span class="num">12</span>&nbsp;</span><span class="r"></span></p>
    <p id="t23" class="pln"><span class="n"><a href="#t23">23</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t24" class="run"><span class="n"><a href="#t24">24</a></span><span class="t">    <span class="op">@</span><span class="nam">api</span><span class="op">.</span><span class="nam">one</span>&nbsp;</span><span class="r"></span></p>
    <p id="t25" class="run"><span class="n"><a href="#t25">25</a></span><span class="t">    <span class="op">@</span><span class="nam">api</span><span class="op">.</span><span class="nam">depends</span><span class="op">(</span><span class="str">'company_id'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t26" class="pln"><span class="n"><a href="#t26">26</a></span><span class="t">    <span class="key">def</span> <span class="nam">_get_currency_id</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t27" class="mis show_mis"><span class="n"><a href="#t27">27</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">currency_id</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">company_id</span><span class="op">.</span><span class="nam">currency_id</span>&nbsp;</span><span class="r"></span></p>
    <p id="t28" class="pln"><span class="n"><a href="#t28">28</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t29" class="run"><span class="n"><a href="#t29">29</a></span><span class="t">    <span class="op">@</span><span class="nam">api</span><span class="op">.</span><span class="nam">one</span>&nbsp;</span><span class="r"></span></p>
    <p id="t30" class="pln"><span class="n"><a href="#t30">30</a></span><span class="t">    <span class="key">def</span> <span class="nam">_set_currency_id</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t31" class="mis show_mis"><span class="n"><a href="#t31">31</a></span><span class="t">        <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">currency_id</span> <span class="op">!=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">company_id</span><span class="op">.</span><span class="nam">currency_id</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t32" class="mis show_mis"><span class="n"><a href="#t32">32</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">company_id</span><span class="op">.</span><span class="nam">currency_id</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">currency_id</span>&nbsp;</span><span class="r"></span></p>
    <p id="t33" class="pln"><span class="n"><a href="#t33">33</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t34" class="run"><span class="n"><a href="#t34">34</a></span><span class="t">    <span class="nam">company_id</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Many2one</span><span class="op">(</span><span class="str">'res.company'</span><span class="op">,</span> <span class="nam">string</span><span class="op">=</span><span class="str">'Company'</span><span class="op">,</span> <span class="nam">required</span><span class="op">=</span><span class="nam">True</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t35" class="pln"><span class="n"><a href="#t35">35</a></span><span class="t">        <span class="nam">default</span><span class="op">=</span><span class="key">lambda</span> <span class="nam">self</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">env</span><span class="op">.</span><span class="nam">user</span><span class="op">.</span><span class="nam">company_id</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t36" class="run"><span class="n"><a href="#t36">36</a></span><span class="t">    <span class="nam">has_default_company</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="nam">readonly</span><span class="op">=</span><span class="nam">True</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t37" class="pln"><span class="n"><a href="#t37">37</a></span><span class="t">        <span class="nam">default</span><span class="op">=</span><span class="key">lambda</span> <span class="nam">self</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_default_has_default_company</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t38" class="run"><span class="n"><a href="#t38">38</a></span><span class="t">    <span class="nam">expects_chart_of_accounts</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="nam">related</span><span class="op">=</span><span class="str">'company_id.expects_chart_of_accounts'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t39" class="pln"><span class="n"><a href="#t39">39</a></span><span class="t">        <span class="nam">string</span><span class="op">=</span><span class="str">'This company has its own chart of accounts'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t40" class="pln"><span class="n"><a href="#t40">40</a></span><span class="t">        <span class="nam">help</span><span class="op">=</span><span class="str">'Check this box if this company is a legal entity.'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t41" class="run"><span class="n"><a href="#t41">41</a></span><span class="t">    <span class="nam">currency_id</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Many2one</span><span class="op">(</span><span class="str">'res.currency'</span><span class="op">,</span> <span class="nam">compute</span><span class="op">=</span><span class="str">'_get_currency_id'</span><span class="op">,</span> <span class="nam">inverse</span><span class="op">=</span><span class="str">'_set_currency_id'</span><span class="op">,</span> <span class="nam">required</span><span class="op">=</span><span class="nam">True</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t42" class="pln"><span class="n"><a href="#t42">42</a></span><span class="t">        <span class="nam">string</span><span class="op">=</span><span class="str">'Default company currency'</span><span class="op">,</span> <span class="nam">help</span><span class="op">=</span><span class="str">"Main currency of the company."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t43" class="run"><span class="n"><a href="#t43">43</a></span><span class="t">    <span class="nam">company_footer</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Text</span><span class="op">(</span><span class="nam">related</span><span class="op">=</span><span class="str">'company_id.rml_footer'</span><span class="op">,</span> <span class="nam">string</span><span class="op">=</span><span class="str">'Bank accounts footer preview'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t44" class="pln"><span class="n"><a href="#t44">44</a></span><span class="t">        <span class="nam">readonly</span><span class="op">=</span><span class="nam">True</span><span class="op">,</span> <span class="nam">help</span><span class="op">=</span><span class="str">"Bank accounts as printed in the footer of each printed document"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t45" class="pln"><span class="n"><a href="#t45">45</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t46" class="run"><span class="n"><a href="#t46">46</a></span><span class="t">    <span class="nam">has_chart_of_accounts</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">'Company has a chart of accounts'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t47" class="run"><span class="n"><a href="#t47">47</a></span><span class="t">    <span class="nam">chart_template_id</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Many2one</span><span class="op">(</span><span class="str">'account.chart.template'</span><span class="op">,</span> <span class="nam">string</span><span class="op">=</span><span class="str">'Template'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t48" class="pln"><span class="n"><a href="#t48">48</a></span><span class="t">        <span class="nam">domain</span><span class="op">=</span><span class="str">"[('visible','=', True)]"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t49" class="run"><span class="n"><a href="#t49">49</a></span><span class="t">    <span class="nam">use_anglo_saxon</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">'Use Anglo-Saxon Accounting *'</span><span class="op">,</span> <span class="nam">related</span><span class="op">=</span><span class="str">'company_id.anglo_saxon_accounting'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t50" class="run"><span class="n"><a href="#t50">50</a></span><span class="t">    <span class="nam">code_digits</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Integer</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">'# of Digits *'</span><span class="op">,</span> <span class="nam">related</span><span class="op">=</span><span class="str">'company_id.accounts_code_digits'</span><span class="op">,</span> <span class="nam">help</span><span class="op">=</span><span class="str">"No. of digits to use for account code"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t51" class="run"><span class="n"><a href="#t51">51</a></span><span class="t">    <span class="nam">tax_calculation_rounding_method</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Selection</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p id="t52" class="pln"><span class="n"><a href="#t52">52</a></span><span class="t">        <span class="op">[</span>&nbsp;</span><span class="r"></span></p>
    <p id="t53" class="pln"><span class="n"><a href="#t53">53</a></span><span class="t">        <span class="op">(</span><span class="str">'round_per_line'</span><span class="op">,</span> <span class="str">'Round calculation of taxes per line'</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t54" class="pln"><span class="n"><a href="#t54">54</a></span><span class="t">        <span class="op">(</span><span class="str">'round_globally'</span><span class="op">,</span> <span class="str">'Round globally calculation of taxes '</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t55" class="pln"><span class="n"><a href="#t55">55</a></span><span class="t">        <span class="op">]</span><span class="op">,</span> <span class="nam">related</span><span class="op">=</span><span class="str">'company_id.tax_calculation_rounding_method'</span><span class="op">,</span> <span class="nam">string</span><span class="op">=</span><span class="str">'Tax calculation rounding method *'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t56" class="pln"><span class="n"><a href="#t56">56</a></span><span class="t">        <span class="nam">help</span><span class="op">=</span><span class="str">"""If you select 'Round per line' : for each tax, the tax amount will first be</span>&nbsp;</span><span class="r"></span></p>
    <p id="t57" class="pln"><span class="n"><a href="#t57">57</a></span><span class="t"><span class="str">             computed and rounded for each PO/SO/invoice line and then these rounded amounts will be summed,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t58" class="pln"><span class="n"><a href="#t58">58</a></span><span class="t"><span class="str">             leading to the total amount for that tax. If you select 'Round globally': for each tax,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t59" class="pln"><span class="n"><a href="#t59">59</a></span><span class="t"><span class="str">             the tax amount will be computed for each PO/SO/invoice line, then these amounts will be</span>&nbsp;</span><span class="r"></span></p>
    <p id="t60" class="pln"><span class="n"><a href="#t60">60</a></span><span class="t"><span class="str">             summed and eventually this total tax amount will be rounded. If you sell with tax included,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t61" class="pln"><span class="n"><a href="#t61">61</a></span><span class="t"><span class="str">             you should choose 'Round per line' because you certainly want the sum of your tax-included line</span>&nbsp;</span><span class="r"></span></p>
    <p id="t62" class="pln"><span class="n"><a href="#t62">62</a></span><span class="t"><span class="str">             subtotals to be equal to the total amount with taxes."""</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t63" class="run"><span class="n"><a href="#t63">63</a></span><span class="t">    <span class="nam">sale_tax_id</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Many2one</span><span class="op">(</span><span class="str">'account.tax.template'</span><span class="op">,</span> <span class="nam">string</span><span class="op">=</span><span class="str">'Default sale tax'</span><span class="op">,</span> <span class="nam">oldname</span><span class="op">=</span><span class="str">"sale_tax"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t64" class="run"><span class="n"><a href="#t64">64</a></span><span class="t">    <span class="nam">purchase_tax_id</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Many2one</span><span class="op">(</span><span class="str">'account.tax.template'</span><span class="op">,</span> <span class="nam">string</span><span class="op">=</span><span class="str">'Default purchase tax'</span><span class="op">,</span> <span class="nam">oldname</span><span class="op">=</span><span class="str">"purchase_tax"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t65" class="run"><span class="n"><a href="#t65">65</a></span><span class="t">    <span class="nam">sale_tax_rate</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Float</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">'Sales tax (%)'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t66" class="run"><span class="n"><a href="#t66">66</a></span><span class="t">    <span class="nam">purchase_tax_rate</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Float</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">'Purchase tax (%)'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t67" class="run"><span class="n"><a href="#t67">67</a></span><span class="t">    <span class="nam">bank_account_code_prefix</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Char</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">'Bank Accounts Prefix *'</span><span class="op">,</span> <span class="nam">related</span><span class="op">=</span><span class="str">'company_id.bank_account_code_prefix'</span><span class="op">,</span> <span class="nam">help</span><span class="op">=</span><span class="str">'Define the code prefix for the bank accounts'</span><span class="op">,</span> <span class="nam">oldname</span><span class="op">=</span><span class="str">'bank_account_code_char'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t68" class="run"><span class="n"><a href="#t68">68</a></span><span class="t">    <span class="nam">cash_account_code_prefix</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Char</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">'Cash Accounts Prefix *'</span><span class="op">,</span> <span class="nam">related</span><span class="op">=</span><span class="str">'company_id.cash_account_code_prefix'</span><span class="op">,</span> <span class="nam">help</span><span class="op">=</span><span class="str">'Define the code prefix for the cash accounts'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t69" class="run"><span class="n"><a href="#t69">69</a></span><span class="t">    <span class="nam">template_transfer_account_id</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Many2one</span><span class="op">(</span><span class="str">'account.account.template'</span><span class="op">,</span> <span class="nam">help</span><span class="op">=</span><span class="str">"Intermediary account used when moving money from a liquidity account to another"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t70" class="run"><span class="n"><a href="#t70">70</a></span><span class="t">    <span class="nam">transfer_account_id</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Many2one</span><span class="op">(</span><span class="str">'account.account'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t71" class="pln"><span class="n"><a href="#t71">71</a></span><span class="t">        <span class="nam">related</span><span class="op">=</span><span class="str">'company_id.transfer_account_id'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t72" class="pln"><span class="n"><a href="#t72">72</a></span><span class="t">        <span class="nam">domain</span><span class="op">=</span><span class="key">lambda</span> <span class="nam">self</span><span class="op">:</span> <span class="op">[</span><span class="op">(</span><span class="str">'reconcile'</span><span class="op">,</span> <span class="str">'='</span><span class="op">,</span> <span class="nam">True</span><span class="op">)</span><span class="op">,</span> <span class="op">(</span><span class="str">'user_type_id.id'</span><span class="op">,</span> <span class="str">'='</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">env</span><span class="op">.</span><span class="nam">ref</span><span class="op">(</span><span class="str">'account.data_account_type_current_assets'</span><span class="op">)</span><span class="op">.</span><span class="nam">id</span><span class="op">)</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t73" class="pln"><span class="n"><a href="#t73">73</a></span><span class="t">        <span class="nam">help</span><span class="op">=</span><span class="str">"Intermediary account used when moving money from a liquidity account to another"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t74" class="run"><span class="n"><a href="#t74">74</a></span><span class="t">    <span class="nam">complete_tax_set</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">'Complete set of taxes'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t75" class="pln"><span class="n"><a href="#t75">75</a></span><span class="t">        <span class="nam">help</span><span class="op">=</span><span class="str">'''This boolean helps you to choose if you want to propose to the user to encode</span>&nbsp;</span><span class="r"></span></p>
    <p id="t76" class="pln"><span class="n"><a href="#t76">76</a></span><span class="t"><span class="str">             the sales and purchase rates or use the usual m2o fields. This last choice assumes that</span>&nbsp;</span><span class="r"></span></p>
    <p id="t77" class="pln"><span class="n"><a href="#t77">77</a></span><span class="t"><span class="str">             the set of tax defined for the chosen template is complete'''</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t78" class="pln"><span class="n"><a href="#t78">78</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t79" class="run"><span class="n"><a href="#t79">79</a></span><span class="t">    <span class="nam">fiscalyear_last_day</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Integer</span><span class="op">(</span><span class="nam">related</span><span class="op">=</span><span class="str">'company_id.fiscalyear_last_day'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t80" class="pln"><span class="n"><a href="#t80">80</a></span><span class="t">        <span class="nam">default</span><span class="op">=</span><span class="key">lambda</span> <span class="nam">self</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_default_fiscalyear_last_day</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t81" class="run"><span class="n"><a href="#t81">81</a></span><span class="t">    <span class="nam">fiscalyear_last_month</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Selection</span><span class="op">(</span><span class="op">[</span><span class="op">(</span><span class="num">1</span><span class="op">,</span> <span class="str">'January'</span><span class="op">)</span><span class="op">,</span> <span class="op">(</span><span class="num">2</span><span class="op">,</span> <span class="str">'February'</span><span class="op">)</span><span class="op">,</span> <span class="op">(</span><span class="num">3</span><span class="op">,</span> <span class="str">'March'</span><span class="op">)</span><span class="op">,</span> <span class="op">(</span><span class="num">4</span><span class="op">,</span> <span class="str">'April'</span><span class="op">)</span><span class="op">,</span> <span class="op">(</span><span class="num">5</span><span class="op">,</span> <span class="str">'May'</span><span class="op">)</span><span class="op">,</span> <span class="op">(</span><span class="num">6</span><span class="op">,</span> <span class="str">'June'</span><span class="op">)</span><span class="op">,</span> <span class="op">(</span><span class="num">7</span><span class="op">,</span> <span class="str">'July'</span><span class="op">)</span><span class="op">,</span> <span class="op">(</span><span class="num">8</span><span class="op">,</span> <span class="str">'August'</span><span class="op">)</span><span class="op">,</span> <span class="op">(</span><span class="num">9</span><span class="op">,</span> <span class="str">'September'</span><span class="op">)</span><span class="op">,</span> <span class="op">(</span><span class="num">10</span><span class="op">,</span> <span class="str">'October'</span><span class="op">)</span><span class="op">,</span> <span class="op">(</span><span class="num">11</span><span class="op">,</span> <span class="str">'November'</span><span class="op">)</span><span class="op">,</span> <span class="op">(</span><span class="num">12</span><span class="op">,</span> <span class="str">'December'</span><span class="op">)</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t82" class="pln"><span class="n"><a href="#t82">82</a></span><span class="t">        <span class="nam">related</span><span class="op">=</span><span class="str">'company_id.fiscalyear_last_month'</span><span class="op">,</span> <span class="nam">default</span><span class="op">=</span><span class="key">lambda</span> <span class="nam">self</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_default_fiscalyear_last_month</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t83" class="run"><span class="n"><a href="#t83">83</a></span><span class="t">    <span class="nam">period_lock_date</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Date</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">"Lock Date for Non-Advisers"</span><span class="op">,</span> <span class="nam">related</span><span class="op">=</span><span class="str">'company_id.period_lock_date'</span><span class="op">,</span> <span class="nam">help</span><span class="op">=</span><span class="str">"Only users with the 'Adviser' role can edit accounts prior to and inclusive of this date. Use it for period locking inside an open fiscal year, for example."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t84" class="run"><span class="n"><a href="#t84">84</a></span><span class="t">    <span class="nam">fiscalyear_lock_date</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Date</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">"Lock Date"</span><span class="op">,</span> <span class="nam">related</span><span class="op">=</span><span class="str">'company_id.fiscalyear_lock_date'</span><span class="op">,</span> <span class="nam">help</span><span class="op">=</span><span class="str">"No users, including Advisers, can edit accounts prior to and inclusive of this date. Use it for fiscal year locking for example."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t85" class="pln"><span class="n"><a href="#t85">85</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t86" class="run"><span class="n"><a href="#t86">86</a></span><span class="t">    <span class="nam">module_account_accountant</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">'Full accounting features: journals, legal statements, chart of accounts, etc.'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t87" class="pln"><span class="n"><a href="#t87">87</a></span><span class="t">        <span class="nam">help</span><span class="op">=</span><span class="str">"""If you do not check this box, you will be able to do invoicing &amp; payments,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t88" class="pln"><span class="n"><a href="#t88">88</a></span><span class="t"><span class="str">             but not accounting (Journal Items, Chart of  Accounts, ...)"""</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t89" class="run"><span class="n"><a href="#t89">89</a></span><span class="t">    <span class="nam">module_account_reports</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="str">"Get dynamic accounting reports"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t90" class="run"><span class="n"><a href="#t90">90</a></span><span class="t">    <span class="nam">group_multi_currency</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">'Allow multi currencies'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t91" class="pln"><span class="n"><a href="#t91">91</a></span><span class="t">        <span class="nam">implied_group</span><span class="op">=</span><span class="str">'base.group_multi_currency'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t92" class="pln"><span class="n"><a href="#t92">92</a></span><span class="t">        <span class="nam">help</span><span class="op">=</span><span class="str">"Allows to work in a multi currency environment"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t93" class="run"><span class="n"><a href="#t93">93</a></span><span class="t">    <span class="nam">group_analytic_accounting</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">'Analytic accounting'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t94" class="pln"><span class="n"><a href="#t94">94</a></span><span class="t">        <span class="nam">implied_group</span><span class="op">=</span><span class="str">'analytic.group_analytic_accounting'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t95" class="pln"><span class="n"><a href="#t95">95</a></span><span class="t">        <span class="nam">help</span><span class="op">=</span><span class="str">"Allows you to use the analytic accounting."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t96" class="run"><span class="n"><a href="#t96">96</a></span><span class="t">    <span class="nam">group_warning_account</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Selection</span><span class="op">(</span><span class="op">[</span>&nbsp;</span><span class="r"></span></p>
    <p id="t97" class="pln"><span class="n"><a href="#t97">97</a></span><span class="t">            <span class="op">(</span><span class="num">0</span><span class="op">,</span> <span class="str">'All the partners can be used in invoices'</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t98" class="pln"><span class="n"><a href="#t98">98</a></span><span class="t">            <span class="op">(</span><span class="num">1</span><span class="op">,</span> <span class="str">'An informative or blocking warning can be set on a partner'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t99" class="pln"><span class="n"><a href="#t99">99</a></span><span class="t">            <span class="op">]</span><span class="op">,</span> <span class="str">"Warning"</span><span class="op">,</span> <span class="nam">implied_group</span><span class="op">=</span><span class="str">'account.group_warning_account'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t100" class="run"><span class="n"><a href="#t100">100</a></span><span class="t">    <span class="nam">currency_exchange_journal_id</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Many2one</span><span class="op">(</span><span class="str">'account.journal'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t101" class="pln"><span class="n"><a href="#t101">101</a></span><span class="t">        <span class="nam">related</span><span class="op">=</span><span class="str">'company_id.currency_exchange_journal_id'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t102" class="pln"><span class="n"><a href="#t102">102</a></span><span class="t">        <span class="nam">string</span><span class="op">=</span><span class="str">"Rate Difference Journal"</span><span class="op">,</span> <span class="nam">domain</span><span class="op">=</span><span class="str">"[('company_id', '=', company_id)]"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t103" class="run"><span class="n"><a href="#t103">103</a></span><span class="t">    <span class="nam">module_account_asset</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">'Assets management'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t104" class="pln"><span class="n"><a href="#t104">104</a></span><span class="t">        <span class="nam">help</span><span class="op">=</span><span class="str">'Asset management: This allows you to manage the assets owned by a company or a person. '</span>&nbsp;</span><span class="r"></span></p>
    <p id="t105" class="pln"><span class="n"><a href="#t105">105</a></span><span class="t">                 <span class="str">'It keeps track of the depreciation occurred on those assets, and creates account move for those depreciation lines.\n\n'</span>&nbsp;</span><span class="r"></span></p>
    <p id="t106" class="pln"><span class="n"><a href="#t106">106</a></span><span class="t">             <span class="str">'-This installs the module account_asset.'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t107" class="run"><span class="n"><a href="#t107">107</a></span><span class="t">    <span class="nam">module_account_deferred_revenue</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">"Revenue Recognition"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t108" class="pln"><span class="n"><a href="#t108">108</a></span><span class="t">        <span class="nam">help</span><span class="op">=</span><span class="str">'This allows you to manage the revenue recognition on selling products. '</span>&nbsp;</span><span class="r"></span></p>
    <p id="t109" class="pln"><span class="n"><a href="#t109">109</a></span><span class="t">             <span class="str">'It keeps track of the installments occurred on those revenue recognitions, '</span>&nbsp;</span><span class="r"></span></p>
    <p id="t110" class="pln"><span class="n"><a href="#t110">110</a></span><span class="t">             <span class="str">'and creates account moves for those installment lines\n'</span>&nbsp;</span><span class="r"></span></p>
    <p id="t111" class="pln"><span class="n"><a href="#t111">111</a></span><span class="t">             <span class="str">'-This installs the module account_deferred_revenue.'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t112" class="run"><span class="n"><a href="#t112">112</a></span><span class="t">    <span class="nam">module_account_budget</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">'Budget management'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t113" class="pln"><span class="n"><a href="#t113">113</a></span><span class="t">        <span class="nam">help</span><span class="op">=</span><span class="str">'This allows accountants to manage analytic and crossovered budgets. '</span>&nbsp;</span><span class="r"></span></p>
    <p id="t114" class="pln"><span class="n"><a href="#t114">114</a></span><span class="t">             <span class="str">'Once the master budgets and the budgets are defined, '</span>&nbsp;</span><span class="r"></span></p>
    <p id="t115" class="pln"><span class="n"><a href="#t115">115</a></span><span class="t">             <span class="str">'the project managers can set the planned amount on each analytic account.\n'</span>&nbsp;</span><span class="r"></span></p>
    <p id="t116" class="pln"><span class="n"><a href="#t116">116</a></span><span class="t">             <span class="str">'-This installs the module account_budget.'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t117" class="run"><span class="n"><a href="#t117">117</a></span><span class="t">    <span class="nam">module_account_tax_cash_basis</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">"Allow Tax Cash Basis"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t118" class="pln"><span class="n"><a href="#t118">118</a></span><span class="t">                                        <span class="nam">help</span><span class="op">=</span><span class="str">'Generate tax cash basis entrie when reconciliating entries'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t119" class="pln"><span class="n"><a href="#t119">119</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t120" class="run"><span class="n"><a href="#t120">120</a></span><span class="t">    <span class="nam">group_proforma_invoices</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">'Allow pro-forma invoices'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t121" class="pln"><span class="n"><a href="#t121">121</a></span><span class="t">        <span class="nam">implied_group</span><span class="op">=</span><span class="str">'account.group_proforma_invoices'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t122" class="pln"><span class="n"><a href="#t122">122</a></span><span class="t">        <span class="nam">help</span><span class="op">=</span><span class="str">"Allows you to put invoices in pro-forma state."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t123" class="run"><span class="n"><a href="#t123">123</a></span><span class="t">    <span class="nam">module_account_reports_followup</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="str">"Enable payment followup management"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t124" class="pln"><span class="n"><a href="#t124">124</a></span><span class="t">        <span class="nam">help</span><span class="op">=</span><span class="str">'This allows to automate letters for unpaid invoices, with multi-level recalls.\n'</span>&nbsp;</span><span class="r"></span></p>
    <p id="t125" class="pln"><span class="n"><a href="#t125">125</a></span><span class="t">             <span class="str">'-This installs the module account_reports_followup.'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t126" class="pln"><span class="n"><a href="#t126">126</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t127" class="run"><span class="n"><a href="#t127">127</a></span><span class="t">    <span class="nam">default_sale_tax_id</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Many2one</span><span class="op">(</span><span class="str">'account.tax'</span><span class="op">,</span> <span class="nam">string</span><span class="op">=</span><span class="str">"Default Sale Tax"</span><span class="op">,</span> <span class="nam">help</span><span class="op">=</span><span class="str">"This sale tax will be assigned by default on new products."</span><span class="op">,</span> <span class="nam">oldname</span><span class="op">=</span><span class="str">"default_sale_tax"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t128" class="run"><span class="n"><a href="#t128">128</a></span><span class="t">    <span class="nam">default_purchase_tax_id</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Many2one</span><span class="op">(</span><span class="str">'account.tax'</span><span class="op">,</span> <span class="nam">string</span><span class="op">=</span><span class="str">"Default Purchase Tax"</span><span class="op">,</span> <span class="nam">help</span><span class="op">=</span><span class="str">"This purchase tax will be assigned by default on new products."</span><span class="op">,</span> <span class="nam">oldname</span><span class="op">=</span><span class="str">"default_purchase_tax"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t129" class="pln"><span class="n"><a href="#t129">129</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t130" class="run"><span class="n"><a href="#t130">130</a></span><span class="t">    <span class="nam">module_l10n_us_check_printing</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="str">"Allow check printing and deposits"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t131" class="pln"><span class="n"><a href="#t131">131</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t132" class="run"><span class="n"><a href="#t132">132</a></span><span class="t">    <span class="nam">module_account_batch_deposit</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">'Use batch deposit'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t133" class="pln"><span class="n"><a href="#t133">133</a></span><span class="t">        <span class="nam">help</span><span class="op">=</span><span class="str">'This allows you to group received checks before you deposit them to the bank.\n'</span>&nbsp;</span><span class="r"></span></p>
    <p id="t134" class="pln"><span class="n"><a href="#t134">134</a></span><span class="t">             <span class="str">'-This installs the module account_batch_deposit.'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t135" class="run"><span class="n"><a href="#t135">135</a></span><span class="t">    <span class="nam">module_account_sepa</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">'Use SEPA payments'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t136" class="pln"><span class="n"><a href="#t136">136</a></span><span class="t">        <span class="nam">help</span><span class="op">=</span><span class="str">'If you check this box, you will be able to register your payment using SEPA.\n'</span>&nbsp;</span><span class="r"></span></p>
    <p id="t137" class="pln"><span class="n"><a href="#t137">137</a></span><span class="t">            <span class="str">'-This installs the module account_sepa.'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t138" class="pln"><span class="n"><a href="#t138">138</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t139" class="run"><span class="n"><a href="#t139">139</a></span><span class="t">    <span class="nam">module_account_plaid</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="nam">string</span><span class="op">=</span><span class="str">"Plaid Connector"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t140" class="pln"><span class="n"><a href="#t140">140</a></span><span class="t">                                          <span class="nam">help</span><span class="op">=</span><span class="str">'Get your bank statements from you bank and import them through plaid.com.\n'</span>&nbsp;</span><span class="r"></span></p>
    <p id="t141" class="pln"><span class="n"><a href="#t141">141</a></span><span class="t">                                          <span class="str">'-This installs the module account_plaid.'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t142" class="run"><span class="n"><a href="#t142">142</a></span><span class="t">    <span class="nam">module_account_yodlee</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="str">"Bank Interface - Sync your bank feeds automatically"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t143" class="pln"><span class="n"><a href="#t143">143</a></span><span class="t">        <span class="nam">help</span><span class="op">=</span><span class="str">'Get your bank statements from your bank and import them through yodlee.com.\n'</span>&nbsp;</span><span class="r"></span></p>
    <p id="t144" class="pln"><span class="n"><a href="#t144">144</a></span><span class="t">                                          <span class="str">'-This installs the module account_yodlee.'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t145" class="run"><span class="n"><a href="#t145">145</a></span><span class="t">    <span class="nam">module_account_bank_statement_import_qif</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="str">"Import .qif files"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t146" class="pln"><span class="n"><a href="#t146">146</a></span><span class="t">        <span class="nam">help</span><span class="op">=</span><span class="str">'Get your bank statements from your bank and import them in Odoo in the .QIF format.\n'</span>&nbsp;</span><span class="r"></span></p>
    <p id="t147" class="pln"><span class="n"><a href="#t147">147</a></span><span class="t">            <span class="str">'-This installs the module account_bank_statement_import_qif.'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t148" class="run"><span class="n"><a href="#t148">148</a></span><span class="t">    <span class="nam">module_account_bank_statement_import_ofx</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="str">"Import in .ofx format"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t149" class="pln"><span class="n"><a href="#t149">149</a></span><span class="t">        <span class="nam">help</span><span class="op">=</span><span class="str">'Get your bank statements from your bank and import them in Odoo in the .OFX format.\n'</span>&nbsp;</span><span class="r"></span></p>
    <p id="t150" class="pln"><span class="n"><a href="#t150">150</a></span><span class="t">            <span class="str">'-This installs the module account_bank_statement_import_ofx.'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t151" class="run"><span class="n"><a href="#t151">151</a></span><span class="t">    <span class="nam">module_account_bank_statement_import_csv</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Boolean</span><span class="op">(</span><span class="str">"Import in .csv format"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t152" class="pln"><span class="n"><a href="#t152">152</a></span><span class="t">        <span class="nam">help</span><span class="op">=</span><span class="str">'Get your bank statements from your bank and import them in Odoo in the .CSV format.\n'</span>&nbsp;</span><span class="r"></span></p>
    <p id="t153" class="pln"><span class="n"><a href="#t153">153</a></span><span class="t">            <span class="str">'-This installs the module account_bank_statement_import_csv.'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t154" class="run"><span class="n"><a href="#t154">154</a></span><span class="t">    <span class="nam">overdue_msg</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">.</span><span class="nam">Text</span><span class="op">(</span><span class="nam">related</span><span class="op">=</span><span class="str">'company_id.overdue_msg'</span><span class="op">,</span> <span class="nam">string</span><span class="op">=</span><span class="str">'Overdue Payments Message *'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t155" class="pln"><span class="n"><a href="#t155">155</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t156" class="run"><span class="n"><a href="#t156">156</a></span><span class="t">    <span class="op">@</span><span class="nam">api</span><span class="op">.</span><span class="nam">model</span>&nbsp;</span><span class="r"></span></p>
    <p id="t157" class="pln"><span class="n"><a href="#t157">157</a></span><span class="t">    <span class="key">def</span> <span class="nam">_default_has_default_company</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t158" class="mis show_mis"><span class="n"><a href="#t158">158</a></span><span class="t">        <span class="nam">count</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">env</span><span class="op">[</span><span class="str">'res.company'</span><span class="op">]</span><span class="op">.</span><span class="nam">search_count</span><span class="op">(</span><span class="op">[</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t159" class="mis show_mis"><span class="n"><a href="#t159">159</a></span><span class="t">        <span class="key">return</span> <span class="nam">bool</span><span class="op">(</span><span class="nam">count</span> <span class="op">==</span> <span class="num">1</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t160" class="pln"><span class="n"><a href="#t160">160</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t161" class="run"><span class="n"><a href="#t161">161</a></span><span class="t">    <span class="op">@</span><span class="nam">api</span><span class="op">.</span><span class="nam">onchange</span><span class="op">(</span><span class="str">'company_id'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t162" class="pln"><span class="n"><a href="#t162">162</a></span><span class="t">    <span class="key">def</span> <span class="nam">onchange_company_id</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t163" class="pln"><span class="n"><a href="#t163">163</a></span><span class="t">        <span class="com"># update related fields</span>&nbsp;</span><span class="r"></span></p>
    <p id="t164" class="mis show_mis"><span class="n"><a href="#t164">164</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">currency_id</span> <span class="op">=</span> <span class="nam">False</span>&nbsp;</span><span class="r"></span></p>
    <p id="t165" class="mis show_mis"><span class="n"><a href="#t165">165</a></span><span class="t">        <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">company_id</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t166" class="mis show_mis"><span class="n"><a href="#t166">166</a></span><span class="t">            <span class="nam">company</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">company_id</span>&nbsp;</span><span class="r"></span></p>
    <p id="t167" class="mis show_mis"><span class="n"><a href="#t167">167</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">chart_template_id</span> <span class="op">=</span> <span class="nam">company</span><span class="op">.</span><span class="nam">chart_template_id</span>&nbsp;</span><span class="r"></span></p>
    <p id="t168" class="mis show_mis"><span class="n"><a href="#t168">168</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">has_chart_of_accounts</span> <span class="op">=</span> <span class="nam">len</span><span class="op">(</span><span class="nam">company</span><span class="op">.</span><span class="nam">chart_template_id</span><span class="op">)</span> <span class="op">></span> <span class="num">0</span> <span class="key">or</span> <span class="nam">False</span>&nbsp;</span><span class="r"></span></p>
    <p id="t169" class="mis show_mis"><span class="n"><a href="#t169">169</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">expects_chart_of_accounts</span> <span class="op">=</span> <span class="nam">company</span><span class="op">.</span><span class="nam">expects_chart_of_accounts</span>&nbsp;</span><span class="r"></span></p>
    <p id="t170" class="mis show_mis"><span class="n"><a href="#t170">170</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">currency_id</span> <span class="op">=</span> <span class="nam">company</span><span class="op">.</span><span class="nam">currency_id</span>&nbsp;</span><span class="r"></span></p>
    <p id="t171" class="mis show_mis"><span class="n"><a href="#t171">171</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">transfer_account_id</span> <span class="op">=</span> <span class="nam">company</span><span class="op">.</span><span class="nam">transfer_account_id</span>&nbsp;</span><span class="r"></span></p>
    <p id="t172" class="mis show_mis"><span class="n"><a href="#t172">172</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">company_footer</span> <span class="op">=</span> <span class="nam">company</span><span class="op">.</span><span class="nam">rml_footer</span>&nbsp;</span><span class="r"></span></p>
    <p id="t173" class="mis show_mis"><span class="n"><a href="#t173">173</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">tax_calculation_rounding_method</span> <span class="op">=</span> <span class="nam">company</span><span class="op">.</span><span class="nam">tax_calculation_rounding_method</span>&nbsp;</span><span class="r"></span></p>
    <p id="t174" class="mis show_mis"><span class="n"><a href="#t174">174</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">bank_account_code_prefix</span> <span class="op">=</span> <span class="nam">company</span><span class="op">.</span><span class="nam">bank_account_code_prefix</span>&nbsp;</span><span class="r"></span></p>
    <p id="t175" class="mis show_mis"><span class="n"><a href="#t175">175</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">cash_account_code_prefix</span> <span class="op">=</span> <span class="nam">company</span><span class="op">.</span><span class="nam">cash_account_code_prefix</span>&nbsp;</span><span class="r"></span></p>
    <p id="t176" class="mis show_mis"><span class="n"><a href="#t176">176</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">code_digits</span> <span class="op">=</span> <span class="nam">company</span><span class="op">.</span><span class="nam">accounts_code_digits</span>&nbsp;</span><span class="r"></span></p>
    <p id="t177" class="pln"><span class="n"><a href="#t177">177</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t178" class="pln"><span class="n"><a href="#t178">178</a></span><span class="t">            <span class="com"># update taxes</span>&nbsp;</span><span class="r"></span></p>
    <p id="t179" class="mis show_mis"><span class="n"><a href="#t179">179</a></span><span class="t">            <span class="nam">ir_values</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">env</span><span class="op">[</span><span class="str">'ir.values'</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p id="t180" class="mis show_mis"><span class="n"><a href="#t180">180</a></span><span class="t">            <span class="nam">taxes_id</span> <span class="op">=</span> <span class="nam">ir_values</span><span class="op">.</span><span class="nam">get_default</span><span class="op">(</span><span class="str">'product.template'</span><span class="op">,</span> <span class="str">'taxes_id'</span><span class="op">,</span> <span class="nam">company_id</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">company_id</span><span class="op">.</span><span class="nam">id</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t181" class="mis show_mis"><span class="n"><a href="#t181">181</a></span><span class="t">            <span class="nam">supplier_taxes_id</span> <span class="op">=</span> <span class="nam">ir_values</span><span class="op">.</span><span class="nam">get_default</span><span class="op">(</span><span class="str">'product.template'</span><span class="op">,</span> <span class="str">'supplier_taxes_id'</span><span class="op">,</span> <span class="nam">company_id</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">company_id</span><span class="op">.</span><span class="nam">id</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t182" class="mis show_mis"><span class="n"><a href="#t182">182</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">default_sale_tax_id</span> <span class="op">=</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">taxes_id</span><span class="op">,</span> <span class="nam">list</span><span class="op">)</span> <span class="key">and</span> <span class="nam">len</span><span class="op">(</span><span class="nam">taxes_id</span><span class="op">)</span> <span class="op">></span> <span class="num">0</span> <span class="key">and</span> <span class="nam">taxes_id</span><span class="op">[</span><span class="num">0</span><span class="op">]</span> <span class="key">or</span> <span class="nam">taxes_id</span>&nbsp;</span><span class="r"></span></p>
    <p id="t183" class="mis show_mis"><span class="n"><a href="#t183">183</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">default_purchase_tax_id</span> <span class="op">=</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">supplier_taxes_id</span><span class="op">,</span> <span class="nam">list</span><span class="op">)</span> <span class="key">and</span> <span class="nam">len</span><span class="op">(</span><span class="nam">supplier_taxes_id</span><span class="op">)</span> <span class="op">></span> <span class="num">0</span> <span class="key">and</span> <span class="nam">supplier_taxes_id</span><span class="op">[</span><span class="num">0</span><span class="op">]</span> <span class="key">or</span> <span class="nam">supplier_taxes_id</span>&nbsp;</span><span class="r"></span></p>
    <p id="t184" class="mis show_mis"><span class="n"><a href="#t184">184</a></span><span class="t">        <span class="key">return</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
    <p id="t185" class="pln"><span class="n"><a href="#t185">185</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t186" class="run"><span class="n"><a href="#t186">186</a></span><span class="t">    <span class="op">@</span><span class="nam">api</span><span class="op">.</span><span class="nam">onchange</span><span class="op">(</span><span class="str">'chart_template_id'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t187" class="pln"><span class="n"><a href="#t187">187</a></span><span class="t">    <span class="key">def</span> <span class="nam">onchange_chart_template_id</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t188" class="mis show_mis"><span class="n"><a href="#t188">188</a></span><span class="t">        <span class="nam">tax_templ_obj</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">env</span><span class="op">[</span><span class="str">'account.tax.template'</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p id="t189" class="mis show_mis"><span class="n"><a href="#t189">189</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">complete_tax_set</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">sale_tax_id</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">purchase_tax_id</span> <span class="op">=</span> <span class="nam">False</span>&nbsp;</span><span class="r"></span></p>
    <p id="t190" class="mis show_mis"><span class="n"><a href="#t190">190</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">sale_tax_rate</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">purchase_tax_rate</span> <span class="op">=</span> <span class="num">15</span>&nbsp;</span><span class="r"></span></p>
    <p id="t191" class="mis show_mis"><span class="n"><a href="#t191">191</a></span><span class="t">        <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">chart_template_id</span> <span class="key">and</span> <span class="key">not</span> <span class="nam">self</span><span class="op">.</span><span class="nam">has_chart_of_accounts</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t192" class="pln"><span class="n"><a href="#t192">192</a></span><span class="t">            <span class="com"># update complete_tax_set, sale_tax_id and purchase_tax_id</span>&nbsp;</span><span class="r"></span></p>
    <p id="t193" class="mis show_mis"><span class="n"><a href="#t193">193</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">complete_tax_set</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">chart_template_id</span><span class="op">.</span><span class="nam">complete_tax_set</span>&nbsp;</span><span class="r"></span></p>
    <p id="t194" class="mis show_mis"><span class="n"><a href="#t194">194</a></span><span class="t">            <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">chart_template_id</span><span class="op">.</span><span class="nam">complete_tax_set</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t195" class="mis show_mis"><span class="n"><a href="#t195">195</a></span><span class="t">                <span class="nam">ir_values_obj</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">env</span><span class="op">[</span><span class="str">'ir.values'</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p id="t196" class="pln"><span class="n"><a href="#t196">196</a></span><span class="t">                <span class="com"># default tax is given by the lowest sequence. For same sequence we will take the latest created as it will be the case for tax created while isntalling the generic chart of account</span>&nbsp;</span><span class="r"></span></p>
    <p id="t197" class="mis show_mis"><span class="n"><a href="#t197">197</a></span><span class="t">                <span class="nam">sale_tax</span> <span class="op">=</span> <span class="nam">tax_templ_obj</span><span class="op">.</span><span class="nam">search</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p id="t198" class="pln"><span class="n"><a href="#t198">198</a></span><span class="t">                    <span class="op">[</span><span class="op">(</span><span class="str">'chart_template_id'</span><span class="op">,</span> <span class="str">'parent_of'</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">chart_template_id</span><span class="op">.</span><span class="nam">id</span><span class="op">)</span><span class="op">,</span> <span class="op">(</span><span class="str">'type_tax_use'</span><span class="op">,</span> <span class="str">'='</span><span class="op">,</span> <span class="str">'sale'</span><span class="op">)</span><span class="op">]</span><span class="op">,</span> <span class="nam">limit</span><span class="op">=</span><span class="num">1</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t199" class="pln"><span class="n"><a href="#t199">199</a></span><span class="t">                    <span class="nam">order</span><span class="op">=</span><span class="str">"sequence, id desc"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t200" class="mis show_mis"><span class="n"><a href="#t200">200</a></span><span class="t">                <span class="nam">purchase_tax</span> <span class="op">=</span> <span class="nam">tax_templ_obj</span><span class="op">.</span><span class="nam">search</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p id="t201" class="pln"><span class="n"><a href="#t201">201</a></span><span class="t">                    <span class="op">[</span><span class="op">(</span><span class="str">'chart_template_id'</span><span class="op">,</span> <span class="str">'parent_of'</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">chart_template_id</span><span class="op">.</span><span class="nam">id</span><span class="op">)</span><span class="op">,</span> <span class="op">(</span><span class="str">'type_tax_use'</span><span class="op">,</span> <span class="str">'='</span><span class="op">,</span> <span class="str">'purchase'</span><span class="op">)</span><span class="op">]</span><span class="op">,</span> <span class="nam">limit</span><span class="op">=</span><span class="num">1</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t202" class="pln"><span class="n"><a href="#t202">202</a></span><span class="t">                    <span class="nam">order</span><span class="op">=</span><span class="str">"sequence, id desc"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t203" class="mis show_mis"><span class="n"><a href="#t203">203</a></span><span class="t">                <span class="nam">self</span><span class="op">.</span><span class="nam">sale_tax_id</span> <span class="op">=</span> <span class="nam">sale_tax</span>&nbsp;</span><span class="r"></span></p>
    <p id="t204" class="mis show_mis"><span class="n"><a href="#t204">204</a></span><span class="t">                <span class="nam">self</span><span class="op">.</span><span class="nam">purchase_tax_id</span> <span class="op">=</span> <span class="nam">purchase_tax</span>&nbsp;</span><span class="r"></span></p>
    <p id="t205" class="mis show_mis"><span class="n"><a href="#t205">205</a></span><span class="t">            <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">chart_template_id</span><span class="op">.</span><span class="nam">code_digits</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t206" class="mis show_mis"><span class="n"><a href="#t206">206</a></span><span class="t">                <span class="nam">self</span><span class="op">.</span><span class="nam">code_digits</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">chart_template_id</span><span class="op">.</span><span class="nam">code_digits</span>&nbsp;</span><span class="r"></span></p>
    <p id="t207" class="mis show_mis"><span class="n"><a href="#t207">207</a></span><span class="t">            <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">chart_template_id</span><span class="op">.</span><span class="nam">transfer_account_id</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t208" class="mis show_mis"><span class="n"><a href="#t208">208</a></span><span class="t">                <span class="nam">self</span><span class="op">.</span><span class="nam">template_transfer_account_id</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">chart_template_id</span><span class="op">.</span><span class="nam">transfer_account_id</span><span class="op">.</span><span class="nam">id</span>&nbsp;</span><span class="r"></span></p>
    <p id="t209" class="mis show_mis"><span class="n"><a href="#t209">209</a></span><span class="t">            <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">chart_template_id</span><span class="op">.</span><span class="nam">bank_account_code_prefix</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t210" class="mis show_mis"><span class="n"><a href="#t210">210</a></span><span class="t">                <span class="nam">self</span><span class="op">.</span><span class="nam">bank_account_code_prefix</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">chart_template_id</span><span class="op">.</span><span class="nam">bank_account_code_prefix</span>&nbsp;</span><span class="r"></span></p>
    <p id="t211" class="mis show_mis"><span class="n"><a href="#t211">211</a></span><span class="t">            <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">chart_template_id</span><span class="op">.</span><span class="nam">cash_account_code_prefix</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t212" class="mis show_mis"><span class="n"><a href="#t212">212</a></span><span class="t">                <span class="nam">self</span><span class="op">.</span><span class="nam">cash_account_code_prefix</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">chart_template_id</span><span class="op">.</span><span class="nam">cash_account_code_prefix</span>&nbsp;</span><span class="r"></span></p>
    <p id="t213" class="mis show_mis"><span class="n"><a href="#t213">213</a></span><span class="t">        <span class="key">return</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
    <p id="t214" class="pln"><span class="n"><a href="#t214">214</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t215" class="run"><span class="n"><a href="#t215">215</a></span><span class="t">    <span class="op">@</span><span class="nam">api</span><span class="op">.</span><span class="nam">onchange</span><span class="op">(</span><span class="str">'sale_tax_rate'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t216" class="pln"><span class="n"><a href="#t216">216</a></span><span class="t">    <span class="key">def</span> <span class="nam">onchange_tax_rate</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t217" class="mis show_mis"><span class="n"><a href="#t217">217</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">purchase_tax_rate</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">sale_tax_rate</span> <span class="key">or</span> <span class="nam">False</span>&nbsp;</span><span class="r"></span></p>
    <p id="t218" class="pln"><span class="n"><a href="#t218">218</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t219" class="run"><span class="n"><a href="#t219">219</a></span><span class="t">    <span class="op">@</span><span class="nam">api</span><span class="op">.</span><span class="nam">multi</span>&nbsp;</span><span class="r"></span></p>
    <p id="t220" class="pln"><span class="n"><a href="#t220">220</a></span><span class="t">    <span class="key">def</span> <span class="nam">set_group_multi_currency</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t221" class="mis show_mis"><span class="n"><a href="#t221">221</a></span><span class="t">        <span class="nam">ir_model</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">env</span><span class="op">[</span><span class="str">'ir.model.data'</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p id="t222" class="mis show_mis"><span class="n"><a href="#t222">222</a></span><span class="t">        <span class="nam">group_user</span> <span class="op">=</span> <span class="nam">ir_model</span><span class="op">.</span><span class="nam">get_object</span><span class="op">(</span><span class="str">'base'</span><span class="op">,</span> <span class="str">'group_user'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t223" class="mis show_mis"><span class="n"><a href="#t223">223</a></span><span class="t">        <span class="nam">group_product</span> <span class="op">=</span> <span class="nam">ir_model</span><span class="op">.</span><span class="nam">get_object</span><span class="op">(</span><span class="str">'product'</span><span class="op">,</span> <span class="str">'group_sale_pricelist'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t224" class="mis show_mis"><span class="n"><a href="#t224">224</a></span><span class="t">        <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">group_multi_currency</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t225" class="mis show_mis"><span class="n"><a href="#t225">225</a></span><span class="t">            <span class="nam">group_user</span><span class="op">.</span><span class="nam">write</span><span class="op">(</span><span class="op">{</span><span class="str">'implied_ids'</span><span class="op">:</span> <span class="op">[</span><span class="op">(</span><span class="num">4</span><span class="op">,</span> <span class="nam">group_product</span><span class="op">.</span><span class="nam">id</span><span class="op">)</span><span class="op">]</span><span class="op">}</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t226" class="mis show_mis"><span class="n"><a href="#t226">226</a></span><span class="t">        <span class="key">return</span> <span class="nam">True</span>&nbsp;</span><span class="r"></span></p>
    <p id="t227" class="pln"><span class="n"><a href="#t227">227</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t228" class="run"><span class="n"><a href="#t228">228</a></span><span class="t">    <span class="op">@</span><span class="nam">api</span><span class="op">.</span><span class="nam">multi</span>&nbsp;</span><span class="r"></span></p>
    <p id="t229" class="pln"><span class="n"><a href="#t229">229</a></span><span class="t">    <span class="key">def</span> <span class="nam">open_bank_accounts</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t230" class="mis show_mis"><span class="n"><a href="#t230">230</a></span><span class="t">        <span class="nam">action_rec</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">env</span><span class="op">[</span><span class="str">'ir.model.data'</span><span class="op">]</span><span class="op">.</span><span class="nam">xmlid_to_object</span><span class="op">(</span><span class="str">'account.action_account_bank_journal_form'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t231" class="mis show_mis"><span class="n"><a href="#t231">231</a></span><span class="t">        <span class="key">return</span> <span class="nam">action_rec</span><span class="op">.</span><span class="nam">read</span><span class="op">(</span><span class="op">[</span><span class="op">]</span><span class="op">)</span><span class="op">[</span><span class="num">0</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p id="t232" class="pln"><span class="n"><a href="#t232">232</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t233" class="run"><span class="n"><a href="#t233">233</a></span><span class="t">    <span class="op">@</span><span class="nam">api</span><span class="op">.</span><span class="nam">multi</span>&nbsp;</span><span class="r"></span></p>
    <p id="t234" class="pln"><span class="n"><a href="#t234">234</a></span><span class="t">    <span class="key">def</span> <span class="nam">set_transfer_account</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t235" class="mis show_mis"><span class="n"><a href="#t235">235</a></span><span class="t">        <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">transfer_account_id</span> <span class="key">and</span> <span class="nam">self</span><span class="op">.</span><span class="nam">transfer_account_id</span> <span class="op">!=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">company_id</span><span class="op">.</span><span class="nam">transfer_account_id</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t236" class="mis show_mis"><span class="n"><a href="#t236">236</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">company_id</span><span class="op">.</span><span class="nam">write</span><span class="op">(</span><span class="op">{</span><span class="str">'transfer_account_id'</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">transfer_account_id</span><span class="op">.</span><span class="nam">id</span><span class="op">}</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t237" class="pln"><span class="n"><a href="#t237">237</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t238" class="run"><span class="n"><a href="#t238">238</a></span><span class="t">    <span class="op">@</span><span class="nam">api</span><span class="op">.</span><span class="nam">multi</span>&nbsp;</span><span class="r"></span></p>
    <p id="t239" class="pln"><span class="n"><a href="#t239">239</a></span><span class="t">    <span class="key">def</span> <span class="nam">set_product_taxes</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t240" class="pln"><span class="n"><a href="#t240">240</a></span><span class="t">        <span class="str">""" Set the product taxes if they have changed """</span>&nbsp;</span><span class="r"></span></p>
    <p id="t241" class="mis show_mis"><span class="n"><a href="#t241">241</a></span><span class="t">        <span class="nam">ir_values_obj</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">env</span><span class="op">[</span><span class="str">'ir.values'</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p id="t242" class="mis show_mis"><span class="n"><a href="#t242">242</a></span><span class="t">        <span class="nam">ir_values_obj</span><span class="op">.</span><span class="nam">sudo</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">set_default</span><span class="op">(</span><span class="str">'product.template'</span><span class="op">,</span> <span class="str">"taxes_id"</span><span class="op">,</span> <span class="op">[</span><span class="nam">self</span><span class="op">.</span><span class="nam">default_sale_tax_id</span><span class="op">.</span><span class="nam">id</span><span class="op">]</span> <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">default_sale_tax_id</span> <span class="key">else</span> <span class="nam">False</span><span class="op">,</span> <span class="nam">for_all_users</span><span class="op">=</span><span class="nam">True</span><span class="op">,</span> <span class="nam">company_id</span><span class="op">=</span><span class="nam">self</span><span class="op">.</span><span class="nam">company_id</span><span class="op">.</span><span class="nam">id</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t243" class="mis show_mis"><span class="n"><a href="#t243">243</a></span><span class="t">        <span class="nam">ir_values_obj</span><span class="op">.</span><span class="nam">sudo</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">set_default</span><span class="op">(</span><span class="str">'product.template'</span><span class="op">,</span> <span class="str">"supplier_taxes_id"</span><span class="op">,</span> <span class="op">[</span><span class="nam">self</span><span class="op">.</span><span class="nam">default_purchase_tax_id</span><span class="op">.</span><span class="nam">id</span><span class="op">]</span> <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">default_purchase_tax_id</span> <span class="key">else</span> <span class="nam">False</span><span class="op">,</span> <span class="nam">for_all_users</span><span class="op">=</span><span class="nam">True</span><span class="op">,</span> <span class="nam">company_id</span><span class="op">=</span><span class="nam">self</span><span class="op">.</span><span class="nam">company_id</span><span class="op">.</span><span class="nam">id</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t244" class="pln"><span class="n"><a href="#t244">244</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t245" class="run"><span class="n"><a href="#t245">245</a></span><span class="t">    <span class="op">@</span><span class="nam">api</span><span class="op">.</span><span class="nam">multi</span>&nbsp;</span><span class="r"></span></p>
    <p id="t246" class="pln"><span class="n"><a href="#t246">246</a></span><span class="t">    <span class="key">def</span> <span class="nam">set_chart_of_accounts</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t247" class="pln"><span class="n"><a href="#t247">247</a></span><span class="t">        <span class="str">""" install a chart of accounts for the given company (if required) """</span>&nbsp;</span><span class="r"></span></p>
    <p id="t248" class="mis show_mis"><span class="n"><a href="#t248">248</a></span><span class="t">        <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">chart_template_id</span> <span class="key">and</span> <span class="key">not</span> <span class="nam">self</span><span class="op">.</span><span class="nam">has_chart_of_accounts</span> <span class="key">and</span> <span class="nam">self</span><span class="op">.</span><span class="nam">expects_chart_of_accounts</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t249" class="mis show_mis"><span class="n"><a href="#t249">249</a></span><span class="t">            <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">company_id</span><span class="op">.</span><span class="nam">chart_template_id</span> <span class="key">and</span> <span class="nam">self</span><span class="op">.</span><span class="nam">chart_template_id</span> <span class="op">!=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">company_id</span><span class="op">.</span><span class="nam">chart_template_id</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t250" class="mis show_mis"><span class="n"><a href="#t250">250</a></span><span class="t">                <span class="key">raise</span> <span class="nam">UserError</span><span class="op">(</span><span class="nam">_</span><span class="op">(</span><span class="str">'You can not change a company chart of account once it has been installed'</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t251" class="mis show_mis"><span class="n"><a href="#t251">251</a></span><span class="t">            <span class="nam">wizard</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">env</span><span class="op">[</span><span class="str">'wizard.multi.charts.accounts'</span><span class="op">]</span><span class="op">.</span><span class="nam">create</span><span class="op">(</span><span class="op">{</span>&nbsp;</span><span class="r"></span></p>
    <p id="t252" class="pln"><span class="n"><a href="#t252">252</a></span><span class="t">                <span class="str">'company_id'</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">company_id</span><span class="op">.</span><span class="nam">id</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t253" class="pln"><span class="n"><a href="#t253">253</a></span><span class="t">                <span class="str">'chart_template_id'</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">chart_template_id</span><span class="op">.</span><span class="nam">id</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t254" class="pln"><span class="n"><a href="#t254">254</a></span><span class="t">                <span class="str">'transfer_account_id'</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">template_transfer_account_id</span><span class="op">.</span><span class="nam">id</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t255" class="pln"><span class="n"><a href="#t255">255</a></span><span class="t">                <span class="str">'code_digits'</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">code_digits</span> <span class="key">or</span> <span class="num">6</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t256" class="pln"><span class="n"><a href="#t256">256</a></span><span class="t">                <span class="str">'sale_tax_id'</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">sale_tax_id</span><span class="op">.</span><span class="nam">id</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t257" class="pln"><span class="n"><a href="#t257">257</a></span><span class="t">                <span class="str">'purchase_tax_id'</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">purchase_tax_id</span><span class="op">.</span><span class="nam">id</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t258" class="pln"><span class="n"><a href="#t258">258</a></span><span class="t">                <span class="str">'sale_tax_rate'</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">sale_tax_rate</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t259" class="pln"><span class="n"><a href="#t259">259</a></span><span class="t">                <span class="str">'purchase_tax_rate'</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">purchase_tax_rate</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t260" class="pln"><span class="n"><a href="#t260">260</a></span><span class="t">                <span class="str">'complete_tax_set'</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">complete_tax_set</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t261" class="pln"><span class="n"><a href="#t261">261</a></span><span class="t">                <span class="str">'currency_id'</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">currency_id</span><span class="op">.</span><span class="nam">id</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t262" class="pln"><span class="n"><a href="#t262">262</a></span><span class="t">                <span class="str">'bank_account_code_prefix'</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">bank_account_code_prefix</span> <span class="key">or</span> <span class="nam">self</span><span class="op">.</span><span class="nam">chart_template_id</span><span class="op">.</span><span class="nam">bank_account_code_prefix</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t263" class="pln"><span class="n"><a href="#t263">263</a></span><span class="t">                <span class="str">'cash_account_code_prefix'</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">cash_account_code_prefix</span> <span class="key">or</span> <span class="nam">self</span><span class="op">.</span><span class="nam">chart_template_id</span><span class="op">.</span><span class="nam">cash_account_code_prefix</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t264" class="pln"><span class="n"><a href="#t264">264</a></span><span class="t">            <span class="op">}</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t265" class="mis show_mis"><span class="n"><a href="#t265">265</a></span><span class="t">            <span class="nam">wizard</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t266" class="pln"><span class="n"><a href="#t266">266</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t267" class="run"><span class="n"><a href="#t267">267</a></span><span class="t">    <span class="op">@</span><span class="nam">api</span><span class="op">.</span><span class="nam">onchange</span><span class="op">(</span><span class="str">'group_analytic_accounting'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t268" class="pln"><span class="n"><a href="#t268">268</a></span><span class="t">    <span class="key">def</span> <span class="nam">onchange_analytic_accounting</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t269" class="mis show_mis"><span class="n"><a href="#t269">269</a></span><span class="t">        <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">group_analytic_accounting</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t270" class="mis show_mis"><span class="n"><a href="#t270">270</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">module_account_accountant</span> <span class="op">=</span> <span class="nam">True</span>&nbsp;</span><span class="r"></span></p>
    <p id="t271" class="pln"><span class="n"><a href="#t271">271</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t272" class="run"><span class="n"><a href="#t272">272</a></span><span class="t">    <span class="op">@</span><span class="nam">api</span><span class="op">.</span><span class="nam">onchange</span><span class="op">(</span><span class="str">'module_account_budget'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t273" class="pln"><span class="n"><a href="#t273">273</a></span><span class="t">    <span class="key">def</span> <span class="nam">onchange_module_account_budget</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t274" class="mis show_mis"><span class="n"><a href="#t274">274</a></span><span class="t">        <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">module_account_budget</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t275" class="mis show_mis"><span class="n"><a href="#t275">275</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">group_analytic_accounting</span> <span class="op">=</span> <span class="nam">True</span>&nbsp;</span><span class="r"></span></p>
    <p id="t276" class="pln"><span class="n"><a href="#t276">276</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t277" class="run"><span class="n"><a href="#t277">277</a></span><span class="t">    <span class="op">@</span><span class="nam">api</span><span class="op">.</span><span class="nam">multi</span>&nbsp;</span><span class="r"></span></p>
    <p id="t278" class="pln"><span class="n"><a href="#t278">278</a></span><span class="t">    <span class="key">def</span> <span class="nam">open_company</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t279" class="mis show_mis"><span class="n"><a href="#t279">279</a></span><span class="t">        <span class="key">return</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
    <p id="t280" class="pln"><span class="n"><a href="#t280">280</a></span><span class="t">            <span class="str">'type'</span><span class="op">:</span> <span class="str">'ir.actions.act_window'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t281" class="pln"><span class="n"><a href="#t281">281</a></span><span class="t">            <span class="str">'name'</span><span class="op">:</span> <span class="str">'My Company'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t282" class="pln"><span class="n"><a href="#t282">282</a></span><span class="t">            <span class="str">'view_type'</span><span class="op">:</span> <span class="str">'form'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t283" class="pln"><span class="n"><a href="#t283">283</a></span><span class="t">            <span class="str">'view_mode'</span><span class="op">:</span> <span class="str">'form'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t284" class="pln"><span class="n"><a href="#t284">284</a></span><span class="t">            <span class="str">'res_model'</span><span class="op">:</span> <span class="str">'res.company'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t285" class="pln"><span class="n"><a href="#t285">285</a></span><span class="t">            <span class="str">'res_id'</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">env</span><span class="op">.</span><span class="nam">user</span><span class="op">.</span><span class="nam">company_id</span><span class="op">.</span><span class="nam">id</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t286" class="pln"><span class="n"><a href="#t286">286</a></span><span class="t">            <span class="str">'target'</span><span class="op">:</span> <span class="str">'current'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p id="t287" class="pln"><span class="n"><a href="#t287">287</a></span><span class="t">        <span class="op">}</span>&nbsp;</span><span class="r"></span></p>
    <p id="t288" class="pln"><span class="n"><a href="#t288">288</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p id="t289" class="run"><span class="n"><a href="#t289">289</a></span><span class="t">    <span class="op">@</span><span class="nam">api</span><span class="op">.</span><span class="nam">model</span>&nbsp;</span><span class="r"></span></p>
    <p id="t290" class="pln"><span class="n"><a href="#t290">290</a></span><span class="t">    <span class="key">def</span> <span class="nam">create</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">vals</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t291" class="pln"><span class="n"><a href="#t291">291</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p id="t292" class="pln"><span class="n"><a href="#t292">292</a></span><span class="t"><span class="str">        Avoid to rewrite the `accounts_code_digits` on the company if the value is the same. As all the values are</span>&nbsp;</span><span class="r"></span></p>
    <p id="t293" class="pln"><span class="n"><a href="#t293">293</a></span><span class="t"><span class="str">        passed on the res.config creation, the related fields are rewriten on each res_config creation. Rewriting</span>&nbsp;</span><span class="r"></span></p>
    <p id="t294" class="pln"><span class="n"><a href="#t294">294</a></span><span class="t"><span class="str">        the `account_code_digits` on the company will trigger a write on all the account.account to complete the</span>&nbsp;</span><span class="r"></span></p>
    <p id="t295" class="pln"><span class="n"><a href="#t295">295</a></span><span class="t"><span class="str">        code the missing characters to complete the desired number of digit, leading to a sql_constraint.</span>&nbsp;</span><span class="r"></span></p>
    <p id="t296" class="pln"><span class="n"><a href="#t296">296</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p id="t297" class="mis show_mis"><span class="n"><a href="#t297">297</a></span><span class="t">        <span class="key">if</span> <span class="op">(</span><span class="str">'company_id'</span> <span class="key">in</span> <span class="nam">vals</span> <span class="key">and</span> <span class="str">'code_digits'</span> <span class="key">in</span> <span class="nam">vals</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t298" class="mis show_mis"><span class="n"><a href="#t298">298</a></span><span class="t">            <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">env</span><span class="op">[</span><span class="str">'res.company'</span><span class="op">]</span><span class="op">.</span><span class="nam">browse</span><span class="op">(</span><span class="nam">vals</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">'company_id'</span><span class="op">)</span><span class="op">)</span><span class="op">.</span><span class="nam">accounts_code_digits</span> <span class="op">==</span> <span class="nam">vals</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">'code_digits'</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p id="t299" class="mis show_mis"><span class="n"><a href="#t299">299</a></span><span class="t">                <span class="nam">vals</span><span class="op">.</span><span class="nam">pop</span><span class="op">(</span><span class="str">'code_digits'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t300" class="mis show_mis"><span class="n"><a href="#t300">300</a></span><span class="t">        <span class="nam">res</span> <span class="op">=</span> <span class="nam">super</span><span class="op">(</span><span class="nam">AccountConfigSettings</span><span class="op">,</span> <span class="nam">self</span><span class="op">)</span><span class="op">.</span><span class="nam">create</span><span class="op">(</span><span class="nam">vals</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p id="t301" class="mis show_mis"><span class="n"><a href="#t301">301</a></span><span class="t">        <span class="key">return</span> <span class="nam">res</span>&nbsp;</span><span class="r"></span></p>
</div>
<div id="footer">
    <div class="content">
        <p>
            <a class="nav" href="index.html">&#xab; index</a> &nbsp; &nbsp; <a class="nav" href="https://coverage.readthedocs.io">coverage.py v5.4</a>,
            created at 2021-02-24 19:43
        </p>
    </div>
</div>
</body>
</html>
